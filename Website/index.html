<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
        <meta name="author" content="Srijan Parmeshwar">
        <meta name="description" content="Search for recipes and see them visualised in a flow chart style.">
        <meta name="theme-color" content="#F44336">
        <link rel="icon" href="images/icon.ico">
        <link rel="shortcut icon" href="images/icon.ico">
        <title>Recipes</title>

        <link href='https://fonts.googleapis.com/css?family=Lato' rel='stylesheet' type='text/css'>
        <link href='https://fonts.googleapis.com/css?family=Lobster' rel='stylesheet' type='text/css'>

        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <script src="bower_components/webcomponentsjs/webcomponents-lite.min.js"></script>

        <link rel="import" href="bower_components/paper-styles/paper-styles.html">
        <link rel="import" href="bower_components/paper-progress/paper-progress.html">
        <link rel="import" href="bower_components/paper-input/paper-input.html">
        <link rel="import" href="bower_components/paper-input/paper-textarea.html">
        <link rel="import" href="bower_components/paper-menu/paper-menu.html">
        <link rel="import" href="bower_components/paper-card/paper-card.html">
        <link rel="import" href="bower_components/paper-icon-button/paper-icon-button.html">
        <link rel="import" href="bower_components/paper-drawer-panel/paper-drawer-panel.html">
        <link rel="import" href="bower_components/paper-header-panel/paper-header-panel.html">
        <link rel="import" href="bower_components/paper-toolbar/paper-toolbar.html">
        <link rel="import" href="bower_components/iron-icons/iron-icons.html">
        <link rel="import" href="bower_components/paper-ripple/paper-ripple.html">
        <link rel="import" href="bower_components/paper-button/paper-button.html">
        <link rel="import" href="bower_components/paper-dialog/paper-dialog.html">
        <link rel="import" href="bower_components/paper-fab/paper-fab.html">
        <link rel="import" href="bower_components/neon-animation/neon-animations.html">

        <script src="bower_components/lodash/dist/lodash.min.js"></script>
        <script src="bower_components/d3/d3.min.js"></script>
        <script src="bower_components/graphlib/dist/graphlib.core.min.js"></script>
        <script src="bower_components/graphlib-dot/dist/graphlib-dot.core.min.js"></script>
        <script src="bower_components/dagre/dist/dagre.core.min.js"></script>
        <script src="bower_components/dagre-d3/dist/dagre-d3.core.min.js"></script>

        <style is="custom-style">
            html, body {
                width: 100%;
                height: 100%;
            }
            body {
                margin: 0;
                background: url(images/muffins.jpg) no-repeat center center fixed;
                -webkit-background-size: cover;
                -moz-background-size: cover;
                -o-background-size: cover;
                background-size: cover;
                transition: 0.2s;
            }
            #title {
                display: block;
                font-family: 'Lobster', cursive;
                font-size: 2.2em;
                margin-left: 0.6em;
                pointer-events: all;
            }
            #title-link {
                text-decoration: none;
                color: white;
            }
            @media screen and (max-width: 640px) {
                #title {
                    font-size: 1.6em;
                }
            }

            #dialog-title {
                font-size: 2em;
            }

            .heading {
                font-size: 1.5em;
            }

            paper-dialog {
                padding: 2em;
                min-width: 80%;
            }

            #query {
                /* Label and underline color when the input is focused */
                width: 50%;

                background: transparent;
                --paper-input-container-color: rgba(255, 255, 255, 0.7);
                --paper-input-container-focus-color: white;
                --paper-input-container-input-color: white;

                padding: 0.2em 0.8em;
                border: none;
                border-radius: 3px;
                -webkit-transition: all 0.2s;
                -moz-transition: all 0.2s;
                -ms-transition: all 0.2s;
                -o-transition: all 0.2s;
                transition: all 0.2s;
            }
            #query[focused] {
                background: #F77669;
            }
            #query paper-input-container {
                padding: 0;
            }
            paper-toolbar {
                --paper-toolbar-background: #F44336;
            }
            #go {
                color: white;
                padding: 0;
                height: 24px;
                width: 24px;
            }
            .central-text {
                position: fixed;
                left: 50%;
                top: 50%;
                -webkit-transform: translate(-50%, -50%);
                -moz-transform: translate(-50%, -50%);
                -ms-transform: translate(-50%, -50%);
                -o-transform: translate(-50%, -50%);
                transform: translate(-50%, -50%);

                font-family: 'Lato', monospace;
                font-size: 3.6em;
                color: white;
                text-align: center;
                text-shadow: 0 4px 6px rgba(0, 0, 0, 0.5);
                transition: 0.2s;
            }
            @media screen and (max-width: 640px) {
                .central-text {
                    font-size: 2em;
                }
            }
            paper-card {
                display: block;
                margin: 3em 4em;
                padding: 1.4em 1.4em;
            }
            paper-progress {
                width: 100%;
                --paper-progress-active-color: #03A9F4;
            }
            .emphasize {
                color: #F44336;
                cursor: pointer;
                -webkit-transition: all 0.2s;
                -moz-transition: all 0.2s;
                -ms-transition: all 0.2s;
                -o-transition: all 0.2s;
                transition: all 0.2s;
            }
            .emphasize:hover {
                color: #F66558;
            }
            .footer {
                position: fixed;
                bottom: 0;
                width: 100%;

                font-family: Lato, monospace;
                font-size: 0.7em;

                background: white;
                color: #F44336;
                padding: 0.5em 0;
                padding-left: 1em;
                box-shadow: 0 -2px 2px rgba(0, 0, 0, 0.2);
            }
            .footer > a {
                color: #F44336;
                text-decoration: underline;
            }
            #upload {
                position: fixed;
                right: 3em;
                bottom: 3em;
                width: 84px;
                height: 84px;
                --paper-fab-background: #FFC107;
                --paper-fab-iron-icon: {
                    fill: white;
                }
            }
            .hide {
                width: 0;
                height: 0;
            }
            .form-button {
                margin-top: 1em;
                padding: 0.7em 0.57em;
                left: 50%;
                -webkit-transform: translate(-50%, 0);
                -moz-transform: translate(-50%, 0);
                -ms-transform: translate(-50%, 0);
                -o-transform: translate(-50%, 0);
                transform: translate(-50%, 0);

                background-color: #FFC107;
                color: white;
            }
            .form-input {
                border: 1px solid black;
                padding: 0.5em 0.5em;
            }
            .form-textarea {
                border: 1px solid black;
                padding: 1em 1em;
            }
        </style>
        <style>
            .node {
                white-space: nowrap;
            }
            .node rect,
            .node circle,
            .node ellipse {
                stroke: #333;
                fill: #fff;
                stroke-width: 1.5px;
            }
            .cluster rect {
                stroke: #333;
                fill: #000;
                fill-opacity: 0.1;
                stroke-width: 1.5px;
            }
            .edgePath path.path {
                stroke: #333;
                stroke-width: 1.5px;
                fill: none;
            }
            .label {
                margin-top: 1em;
                display: block;
            }
            #graph-container {
                padding: 0;
            }
        </style>
    </head>
    <body unresolved>
        <paper-header-panel mode="waterfall">
            <paper-toolbar>
                <div class="flex title" id="title"><a href="../" id="title-link">Recipes</a></div>
                <paper-input id="query" label="Search recipes" no-label-float onkeypress="key(event);">
                    <paper-icon-button suffix icon="search" id="go"></paper-icon-button>
                </paper-input>
            </paper-toolbar>
            <div class="content fit" id="main">
                <div class="central-text" id="hint"><span class="emphasize" onclick="document.getElementById('query').$.input.focus();">Search</span> for a recipe to try.</div>
                <div class="list" id="cards"></div>
                <div id="dialogs">
                    <paper-dialog id="dialog" entry-animation="slide-from-right-animation" exit-animation="slide-right-animation" with-backdrop style="overflow-y: scroll">
                        <div id="dialog-title"></div>
                        <div id="dialog-summary"></div>
                        <p class="heading">Ingredients</p>
                        <ul id="dialog-ingredients"></ul>
                        <p class="heading">Instructions</p>
                        <ol id="dialog-instructions"></ol>
                        <div id="graph-container" class="hide">
                            <svg id="graph-svg" width="100%" height="800px">
                                <g/>
                            </svg>
                        </div>
                    </paper-dialog>
                </div>
                <paper-fab id="upload" icon="add" onclick="showForm();"></paper-fab>
                <div class="footer">Recipes are retrieved from <a href="//www.bbc.co.uk/food/">BBC Food</a> and so are copyright of BBC.</div>
            </div>
        </paper-header-panel>

        <script src="scripts/load.js"></script>
        <script src="scripts/colour.js"></script>
        <script src="scripts/card.js"></script>
        <script src="scripts/search.js"></script>
        <script src="scripts/render.js"></script>

    </body>
</html>